package me.minoneer.bukkit.bookexploit;

import org.bukkit.configuration.file.FileConfiguration;
import org.bukkit.plugin.Plugin;
import org.jetbrains.annotations.NotNull;

public abstract class AbstractConfigHandler {

    public AbstractConfigHandler(@NotNull final Plugin plugin) {
        this.plugin = plugin;
    }

    protected final Plugin plugin;
    protected FileConfiguration config;

    public void loadConfig() {
        config = plugin.getConfig();
        config.options().copyDefaults(true);
        addDefaults();
        saveConfig();
        loadData();
    }

    public void saveConfig() {
        plugin.saveConfig();
    }

    protected abstract void loadData();

    protected abstract void addDefaults();
}
